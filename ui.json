{
    "doc": {
        "help": "Issue tracker.",
        "usage": [
            "--help",
            "--version",
            "open [--label <label>]... [--milestone <milestone>]... \"<description>\"",
            "close [--message \"<message>\"] <id>..."
        ],
        "examples": [
            {
                "line": "open --label bug --label urgent \"Oh noes! The program crashez.\"",
                "desc": "open new issue with labels \"bug\" and \"urgent\" with given description"
            }
        ]
    },
    "options": {
        "global": [
            {
                "short": "h",
                "long": "help",
                "help": "display help message"
            },
            {
                "short": "v",
                "long": "verbose",
                "help": "display verbose output"
            }
        ],
        "local": [
            {
                "long": "version",
                "help": "show version"
            },
            {
                "long": "pack",
                "conflicts": ["--nuke"],
                "help": "pack information about objects for remote fetchers"
            },
            {
                "long": "nuke",
                "conflicts": ["--pack"],
                "plural": true,
                "help": "remove the repository, use --nuke --nuke to silence errors about nonexistent repositories"
            },
            {
                "long": "where",
                "help": "locate the repository, assumes cwd is a subdirectory of a repo"
            }
        ]
    },
    "commands": {
        "init": {
            "doc": {
                "help": "Create new issues repository.",
                "usage": [
                    "init [--force]"
                ]
            },
            "options": {
                "local": [
                    {
                        "long": "force",
                        "short": "f",
                        "help": "force initialisation of the repository (removes previous repository if one was already initialised)"
                    },
                    {
                        "long": "exchange",
                        "short": "e",
                        "help": "initialise the repository as an exchange (allowing pushes)"
                    },
                    {
                        "long": "up",
                        "short": "u",
                        "help": "upgrade repository to newer version, creating additional structures as needed"
                    }
                ]
            }
        },
        "open": {
            "doc": {
                "help": "Open new issues.",
                "usage": [
                    "open [--label <label>]... [--milestone <name>]... \"short description of the issue\""
                ]
            },
            "options": {
                "local": [
                    {
                        "long": "label",
                        "short": "l",
                        "arguments": ["str"],
                        "plural": 1,
                        "help": "add label to the issue"
                    },
                    {
                        "long": "milestone",
                        "short": "M",
                        "arguments": ["str"],
                        "plural": 1,
                        "help": "attach the issue to a milestone"
                    },
                    {
                        "long": "git",
                        "short": "g",
                        "help": "instead of SHA1 of the issue print its Git-ready branch name"
                    }
                ]
            },
            "operands": {"no": [0, 1]}
        },
        "close": {
            "doc": {
                "help": "Close opened issues.",
                "usage": [
                    "close (<sha1> | <name>)"
                ]
            },
            "options": {
                "local": [
                    {
                        "short": "i",
                        "arguments": ["str"],
                        "help": "issue SHA1 identifier"
                    },
                    {
                        "short": "g",
                        "long": "git-commit",
                        "arguments": ["str"],
                        "help": "SHA1 of the Git commit used to close the issue"
                    },
                    {
                        "long": "last",
                        "help": "close last active issue"
                    }
                ]
            },
            "operands": {
                "no": [1, 1],
                "with": {
                    "--last": [0, 0]
                }
            }
        },
        "ls": {
            "doc": {
                "help": "List issues.",
                "usage": [
                    "ls [--open | --closed]"
                ]
            },
            "options": {
                "local": [
                    {
                        "short": "o",
                        "long": "open",
                        "conflicts": ["--closed"],
                        "help": "list only open issues"
                    },
                    {
                        "short": "c",
                        "long": "closed",
                        "conflicts": ["--open"],
                        "help": "list only closed issues"
                    },
                    {
                        "short": "s",
                        "long": "status",
                        "arguments": ["str"],
                        "plural": 1,
                        "help": "filter by given <status>"
                    },
                    {
                        "short": "d",
                        "long": "details",
                        "help": "show more details about each issue"
                    },
                    {
                        "short": "l",
                        "long": "label",
                        "arguments": ["str"],
                        "plural": 1,
                        "help": "filter by given <label>"
                    },
                    {
                        "short": "a",
                        "long": "author",
                        "arguments": ["str"],
                        "help": "show issues opened or closed by given author"
                    },
                    {
                        "short": "S",
                        "long": "since",
                        "arguments": ["str"],
                        "plural": true,
                        "help": "show issues no older than given date specifier"
                    },
                    {
                        "short": "U",
                        "long": "until",
                        "arguments": ["str"],
                        "plural": true,
                        "help": "show only issues older than given date specifier"
                    },
                    {
                        "short": "r",
                        "long": "recent",
                        "conflicts": ["--since"],
                        "help": "show recently changed (opened or closed) issues, defaults to 1 day but can be adjusted with \"defaults.time.recent\" config"
                    }
                ]
            }
        },
        "drop": {
            "doc": {
                "help": "Drop issues.",
                "usage": [
                    "drop (<sha1> | <name>)"
                ]
            },
            "options": {
                "local": [
                    {
                        "long": "last",
                        "help": "drop last active issue"
                    }
                ]
            },
            "operands": {
                "with": {
                    "--last": [1, 1]
                }
            }
        },
        "slug": {
            "doc": {
                "help": "Print sluggified issue message.",
                "usage": [
                    "slug <sha1>"
                ]
            },
            "options": {
                "local": [
                    {
                        "short": "g",
                        "long": "git",
                        "conflicts": ["--format"],
                        "help": "format slug in the Git-ready format"
                    },
                    {
                        "short": "f",
                        "long": "format",
                        "arguments": ["str"],
                        "conflicts": ["--git"],
                        "help": "use custom slug format"
                    },
                    {
                        "short": "p",
                        "long": "param",
                        "arguments": ["str", "str"],
                        "conflicts": ["--git"],
                        "requires": ["--format"],
                        "plural": true,
                        "help": "add parameter to use with format"
                    },
                    {
                        "long": "last",
                        "help": "sluggify last active issue"
                    }
                ]
            },
            "operands": {
                "no": [1, 1],
                "with": {
                    "--last": [0, 0]
                }
            }
        },
        "comment": {
            "doc": {
                "help": "Comment on an issue.",
                "usage": [
                    "comment <sha1> <message>"
                ]
            },
            "options": {
                "local": [
                    {
                        "long": "last",
                        "help": "make a commant on last active issue"
                    }
                ]
            },
            "operands": {
                "no": [1, 2],
                "with": {
                    "--last": [0, 1]
                }
            }
        },
        "show": {
            "doc": {
                "help": "Show information about issues.",
                "usage": [
                    "show <sha1>"
                ]
            },
            "options": {
                "local": [
                    {
                        "long": "last",
                        "help": "display last active issue"
                    }
                ]
            },
            "operands": {
                "no": [1, 1],
                "with": {
                    "--last": [0, 0]
                }
            }
        },
        "config": {
            "doc": {
                "help": "Configure the issue program.",
                "usage": [
                    "config [--global] set <key> [<value>]",
                    "config [--global] get <key>"
                ]
            },
            "options": {
                "global": [
                    {
                        "short": "g",
                        "long": "global",
                        "help": "operate on global configuration"
                    }
                ]
            },
            "commands": {
                "get": {
                    "doc": {
                        "help": "Obtain values set inside configuration file(s)",
                        "usage": [
                            "config [--global] get [--safe] <key>"
                        ]
                    },
                    "options": {
                        "local": [
                            {
                                "short": "s",
                                "long": "safe",
                                "help": "if the key is not present in the configuration, assume 'null' value instead of failing"
                            }
                        ]
                    },
                    "operands": {
                        "no": [1, 1]
                    }
                },
                "set": {
                    "doc": {
                        "help": "Set values in configuration file(s)",
                        "usage": [
                            "config [--global] set [--null] <key> [<value>]"
                        ]
                    },
                    "options": {
                        "local": [
                            {
                                "short": "n",
                                "long": "null",
                                "help": "insert 'null' value"
                            },
                            {
                                "short": "u",
                                "long": "unset",
                                "help": "remove value from config"
                            }
                        ]
                    },
                    "operands": {
                        "no": [1, 2]
                    }
                },
                "dump": {
                    "doc": {
                        "help": "Print configuration to standard output"
                    },
                    "options": {
                        "local": [
                            {
                                "short": "v",
                                "long": "verbose",
                                "help": "generate human-readable JSON"
                            }
                        ]
                    },
                    "operands": {
                        "no": [0, 0]
                    }
                }
            },
            "operands": {
                "no": [0, 0]
            }
        },
        "remote": {
            "doc": {
                "help": "Add remote issues repositories.",
                "usage": [
                    "remote set foo user@host.domain:devel/project/.issue"
                ]
            },
            "commands": {
                "ls": {
                    "doc": {
                        "help": "List available remote repositories"
                    },
                    "operands": {
                        "no": [0, 0]
                    }
                },
                "set": {
                    "doc": {
                        "help": "Set new URL for an existing repository, or add new repository",
                        "usage": [
                            "remote set <name> <url>"
                        ]
                    },
                    "options": {
                        "local": [
                            {
                                "short": "k",
                                "long": "key",
                                "arguments": ["str"],
                                "requires": ["--value"],
                                "help": "set given config key in selected remote"
                            },
                            {
                                "long": "value",
                                "arguments": ["str"],
                                "requires": ["--key"],
                                "help": "set this value for given key in config for selected remote"
                            },
                            {
                                "long": "unset",
                                "arguments": ["str"],
                                "help": "remove a key in config for selected remote"
                            },
                            {
                                "short": "u",
                                "long": "url",
                                "arguments": ["str"],
                                "required": true,
                                "not_with": ["--key", "--value", "--unset"],
                                "help": "set SSH URL for selected remote"
                            }
                        ]
                    },
                    "operands": {
                        "no": [1, 1]
                    }
                },
                "rm": {
                    "doc": {
                        "help": "Remove a remote repository"
                    },
                    "operands": {
                        "no": [1, 1]
                    }
                },
                "show": {
                    "doc": {
                        "help": "Show config of a remote repository"
                    },
                    "operands": {
                        "no": [1, 1]
                    }
                }
            },
            "operands": {
                "no": [0, 0]
            }
        },
        "fetch": {
            "doc": {
                "help": "Fetch objects from remote repositories",
                "usage": [
                    "fetch [--probe]"
                ]
            },
            "options": {
                "local": [
                    {
                        "short": "p",
                        "long": "probe",
                        "help": "only probe the remotes for their state, don't download issue objects"
                    },
                    {
                        "short": "f",
                        "long": "full",
                        "help": "fetch objects from all remotes (obtain full state)"
                    }
                ]
            },
            "operands": {
                "no": [0]
            }
        }
    },
    "operands": {
        "no": [0, 0]
    }
}
